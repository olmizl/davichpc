<? include("../include/header.html"); ?>
<div class="titleBox">
  <div class="subTitle locationTitle">
    <div class="container">
      <div class="txt">
        <h2>오시는 길</h2>
        <p>전문성과 신뢰를 바탕으로 한 최고의 안경전문기업, 다비치입니다.</p>
      </div>
    </div>
  </div>
</div>
<section id="location">
  <div class="container">
    <div class="company mapBox">
      <h2 class="mapTitle">다비치 안경체인 본사</h2>
      <div id="companyMap" class="map"></div>
      <div class="address">
        <p>
          <em>주소</em>
          <span>서울특별시 용산구 서계동 223-56(만리재로 190-1)</span>
        </p>
        <p>
          <em>전화번호</em>
          <span>02-752-6177</span>
        </p>
      </div>
    </div>
    <div class="lap mapBox">
      <h2 class="mapTitle">고객가치경영연구원</h2>
      <div id="lapMap" class="map"></div>
      <div class="address">
        <p>
          <em>주소</em>
          <span>대전광역시 동구 중동 92-1(중앙로 198)</span>
        </p>
        <p>
          <em>전화번호</em>
          <span>070-7428-6637~8</span>
        </p>
      </div>
    </div>
  </div>
</section>
<script>
  //////////////////////////////////////////////////////companyMap
  const company = document.querySelector("#companyMap");
  const options = {
    center: new kakao.maps.LatLng(37.55459497797932, 126.96694243884775),
    level: 3,
  };
  const companyMap = new kakao.maps.Map(company, options);

  const imageSrc = "../images/contents/mapMarker.png",
    imageSize = new kakao.maps.Size(185, 50),
    imageOption = { offset: new kakao.maps.Point(24, 69) };
  const content = `<p class="comInfoTxt">다비치 안경체인 본사</p>`;

  const geocoder = new kakao.maps.services.Geocoder();

  geocoder.addressSearch("서울특별시 용산구 서계동 223-56", function (result, status) {
    if (status === kakao.maps.services.Status.OK) {
      const coords = new kakao.maps.LatLng(result[0].y, result[0].x);

      const markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption),
        markerPosition = coords;
      const marker = new kakao.maps.Marker({
        position: markerPosition,
        image: markerImage,
      });
      marker.setMap(companyMap);
      const customOverlay = new kakao.maps.CustomOverlay({
        position: coords,
        content: content,
        xAnchor: 0.5,
        yAnchor: 2,
      });
      customOverlay.setMap(companyMap);
      map.setCenter(coords);
    }
  });

  ////////////////////////////////////////////////////lapMap

  const lap = document.querySelector("#lapMap");
  const lapOptions = {
    center: new kakao.maps.LatLng(36.33041990130911, 127.43110686220326),
    level: 2,
  };
  const lapMap = new kakao.maps.Map(lap, lapOptions);

  const lapImageSrc = "../images/contents/mapMarker.png",
    lapImageSize = new kakao.maps.Size(185, 50),
    lapImageOption = { offset: new kakao.maps.Point(46, 76) };
  const lapContent = `<p class="lapInfoTxt">고객가치경영연구원</p>`;

  const lapGeocoder = new kakao.maps.services.Geocoder();

  lapGeocoder.addressSearch("대전광역시 동구 중동 92-1", function (result, status) {
    if (status === kakao.maps.services.Status.OK) {
      const coords = new kakao.maps.LatLng(result[0].y, result[0].x);

      const lapMarkerImage = new kakao.maps.MarkerImage(lapImageSrc, lapImageSize, lapImageOption),
        markerPosition = coords;
      const marker = new kakao.maps.Marker({
        position: markerPosition,
        image: lapMarkerImage,
      });
      marker.setMap(lapMap);
      const customOverlay = new kakao.maps.CustomOverlay({
        position: coords,
        content: lapContent,
        xAnchor: 0.5,
        yAnchor: 2,
      });
      customOverlay.setMap(lapMap);
      map.setCenter(coords);
    }
  });
</script>
<? include("../include/footer.html"); ?>
